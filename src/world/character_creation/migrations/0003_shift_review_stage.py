# Generated by Django 5.2.4 on 2026-01-31 04:49

from django.db import migrations


def shift_review_stage(apps, schema_editor):
    """Shift drafts at REVIEW (was 9) to new REVIEW (10)."""
    CharacterDraft = apps.get_model("character_creation", "CharacterDraft")
    CharacterDraft.objects.filter(current_stage=9).update(current_stage=10)


def unshift_review_stage(apps, schema_editor):
    """Reverse: shift REVIEW from 10 back to 9."""
    CharacterDraft = apps.get_model("character_creation", "CharacterDraft")
    CharacterDraft.objects.filter(current_stage=10).update(current_stage=9)


class Migration(migrations.Migration):
    dependencies = [
        ("character_creation", "0002_initial"),
    ]

    operations = [
        migrations.RunPython(shift_review_stage, unshift_review_stage),
    ]
